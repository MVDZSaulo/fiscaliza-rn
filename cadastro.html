<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastro - Fiscaliza RN</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 400px; margin: 0 auto; padding: 20px; }
        input, button { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
        button { background: #2c3e50; color: white; border: none; cursor: pointer; }
        .msg { margin: 10px 0; padding: 10px; border-radius: 4px; }
        .sucesso { background: #d4edda; color: #155724; }
        .erro { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h2>Cadastro de Usuário</h2>
    <input type="text" id="nome" placeholder="Nome completo">
    <input type="email" id="email" placeholder="E-mail">
    <input type="password" id="senha" placeholder="Senha (mínimo 6 caracteres)">
    <button onclick="cadastrar()">Cadastrar</button>
    <div id="mensagem" class="msg"></div>

    <script>
        // Função principal de cadastro
        function cadastrar() {
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            const msg = document.getElementById('mensagem');

            // Validação básica
            if (!nome || !email || !senha) {
                msg.textContent = "Preencha todos os campos!";
                msg.className = "msg erro";
                return;
            }

            if (senha.length < 6) {
                msg.textContent = "A senha deve ter pelo menos 6 caracteres!";
                msg.className = "msg erro";
                return;
            }

            // Recupera usuários existentes
            const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];

            // Verifica se e-mail já existe
            if (usuarios.some(user => user.email === email)) {
                msg.textContent = "Este e-mail já está cadastrado!";
                msg.className = "msg erro";
                return;
            }

            // Adiciona novo usuário
            usuarios.push({ nome, email, senha });
            localStorage.setItem('usuarios', JSON.stringify(usuarios));

            // Feedback
            msg.textContent = "Cadastro realizado com sucesso!";
            msg.className = "msg sucesso";
            
            // Limpa os campos
            document.getElementById('nome').value = "";
            document.getElementById('email').value = "";
            document.getElementById('senha').value = "";
        }
    </script>
</body>
</html>
